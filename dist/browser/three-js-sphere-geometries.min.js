!(function(t, e) {
"object" == typeof exports && "undefined" != typeof module
? (module.exports = e(require("three-full/builds/Three.cjs.js")))
: "function" == typeof define && define.amd
? define(["three-full/builds/Three.cjs.js"], e)
: (t.THREESphereBufferGeometries = e(t.THREE));
})(this, function(t) {
"use strict";
function e(e, r) {
t.BufferGeometry.call(this),
(this.type = "NormalizedCubeBufferGeometry"),
(this.parameters = {radius: e, widthHeightSegments: r});
var o = this;
(e = e || 1), (r = Math.max(3, Math.floor(r) || 8));
var u,
s = new t.Vector3(),
h = new t.Vector3(),
i = 0,
a = 0,
f = [],
n = [],
p = [];
d("z", "y", "x", -1, -1, 1, 1, 1, r, r, 0),
d("z", "y", "x", 1, -1, 1, 1, -1, r, r, 1),
d("x", "z", "y", 1, 1, 1, 1, 1, r, r, 2),
d("x", "z", "y", 1, -1, 1, 1, -1, r, r, 3),
d("x", "y", "z", 1, -1, 1, 1, 1, r, r, 4),
d("x", "y", "z", -1, -1, 1, 1, -1, r, r, 5);
var y = [],
l = [];
for (u = 0; u < n.length; u += 3)
(s.x = n[u]),
(s.y = n[u + 1]),
(s.z = n[u + 2]),
s.normalize(),
(s.x *= e),
(s.y *= e),
(s.z *= e),
y.push(s.x, s.y, s.z),
h.set(s.x, s.y, s.z).normalize(),
l.push(h.x, h.y, h.z);
function d(e, r, u, s, h, y, l, d, c, x, z) {
var m,
b,
v = y / c,
w = l / x,
B = y / 2,
A = l / 2,
G = d / 2,
V = c + 1,
M = x + 1,
g = 0,
E = 0,
F = new t.Vector3();
for (b = 0; b < M; b++) {
var j = b * w - A;
for (m = 0; m < V; m++) {
var H = m * v - B;
(F[e] = H * s),
(F[r] = j * h),
(F[u] = G),
n.push(F.x, F.y, F.z),
(F[e] = 0),
(F[r] = 0),
(F[u] = d > 0 ? 1 : -1),
p.push(m / c),
p.push(1 - b / x),
(g += 1);
}
}
for (b = 0; b < x; b++)
for (m = 0; m < c; m++) {
var I = i + m + V * b,
T = i + m + V * (b + 1),
q = i + (m + 1) + V * (b + 1),
R = i + (m + 1) + V * b;
f.push(I, T, R), f.push(T, q, R), (E += 6);
}
o.addGroup(a, E, z), (a += E), (i += g);
}
this.setIndex(f),
this.addAttribute("position", new t.Float32BufferAttribute(y, 3)),
this.addAttribute("normal", new t.Float32BufferAttribute(l, 3)),
this.addAttribute("uv", new t.Float32BufferAttribute(p, 2));
}
(t = t && t.hasOwnProperty("default") ? t.default : t),
(e.prototype = Object.create(t.BufferGeometry.prototype)),
(e.prototype.constructor = e);
var r = e;
function o(e, r) {
t.BufferGeometry.call(this),
(this.type = "IcosahedronBufferGeometry"),
(this.parameters = {radius: e, subdivisionsLevel: r}),
(e = e || 10);
var o,
u = new t.Vector3(),
s = new t.Vector3(),
h = [],
i = [],
a = [],
f = [];
function n(e, r) {
let o = new t.Vector3(i[3 * e], i[3 * e + 1], i[3 * e + 2]),
u = new t.Vector3(i[3 * r], i[3 * r + 1], i[3 * r + 2]),
s = new t.Vector3((o.x + u.x) / 2, (o.y + u.y) / 2, (o.z + u.z) / 2);
p(s.x, s.y, s.z);
}
function p(r, o, s) {
(u = new t.Vector3(r, o, s)).normalize(),
(u.x *= e),
(u.y *= e),
(u.z *= e),
i.push(u.x, u.y, u.z);
}
p(-1, (o = (1 + Math.sqrt(5)) / 2), 0),
p(1, o, 0),
p(-1, -o, 0),
p(1, -o, 0),
p(0, -1, o),
p(0, 1, o),
p(0, -1, -o),
p(0, 1, -o),
p(o, 0, -1),
p(o, 0, 1),
p(-o, 0, -1),
p(-o, 0, 1),
h.push(0, 11, 5),
h.push(0, 5, 1),
h.push(0, 1, 7),
h.push(0, 7, 10),
h.push(0, 10, 11),
h.push(1, 5, 9),
h.push(5, 11, 4),
h.push(11, 10, 2),
h.push(10, 7, 6),
h.push(7, 1, 8),
h.push(3, 9, 4),
h.push(3, 4, 2),
h.push(3, 2, 6),
h.push(3, 6, 8),
h.push(3, 8, 9),
h.push(4, 9, 5),
h.push(2, 4, 11),
h.push(6, 2, 10),
h.push(8, 6, 7),
h.push(9, 8, 1),
(function() {
for (var t = 0; t < r - 1; t++) {
var e = [];
for (let t = 0; t < h.length; t += 3) {
let r = h[t],
o = h[t + 1],
u = h[t + 2];
n(r, o), n(o, u), n(u, r);
let s = i.length / 3;
e.push(r, s - 3, s - 1),
e.push(o, s - 2, s - 3),
e.push(u, s - 1, s - 2),
e.push(s - 3, s - 2, s - 1);
}
h = e;
}
})(),
(function() {
for (let t = 0; t < i.length; t += 3) {
let e = i[t],
r = i[t + 1],
o = i[t + 2];
s.set(e, r, o).normalize(), a.push(s.x, s.y, s.z);
}
})(),
(function() {
let t = 0,
e = 0;
for (let r = 0; r < i.length; r += 3) {
let o = i[r],
u = i[r + 1],
s = i[r + 2];
(t = 0.5 + Math.atan2(s, o) / (2 * Math.PI)),
(e = 0.5 - Math.asin(u) / Math.PI),
f.push(t, e);
}
})(),
this.setIndex(h),
this.addAttribute("position", new t.Float32BufferAttribute(i, 3)),
this.addAttribute("normal", new t.Float32BufferAttribute(a, 3)),
this.addAttribute("uv", new t.Float32BufferAttribute(f, 2));
}
(o.prototype = Object.create(t.BufferGeometry.prototype)),
(o.prototype.constructor = o);
var u = o;
function s(e, r) {
t.BufferGeometry.call(this),
(this.type = "SpherifiedCubeBufferGeometry"),
(this.parameters = {radius: e, widthHeightSegments: r});
var o = this;
(e = e || 1), (r = Math.max(3, Math.floor(r) || 8));
var u,
s = new t.Vector3(),
h = new t.Vector3(),
i = new t.Vector3(),
a = 0,
f = 0,
n = [],
p = [],
y = [];
c("z", "y", "x", -1, -1, 1, 1, 1, r, r, 0),
c("z", "y", "x", 1, -1, 1, 1, -1, r, r, 1),
c("x", "z", "y", 1, 1, 1, 1, 1, r, r, 2),
c("x", "z", "y", 1, -1, 1, 1, -1, r, r, 3),
c("x", "y", "z", 1, -1, 1, 1, 1, r, r, 4),
c("x", "y", "z", -1, -1, 1, 1, -1, r, r, 5);
var l = [],
d = [];
for (u = 0; u < p.length; u += 3)
(s.x = 2 * p[u]),
(s.y = 2 * p[u + 1]),
(s.z = 2 * p[u + 2]),
(h.x = s.x ** 2),
(h.y = s.y ** 2),
(h.z = s.z ** 2),
(s.x *= Math.sqrt(1 - 0.5 * (h.y + h.z) + (h.y * h.z) / 3) * e),
(s.y *= Math.sqrt(1 - 0.5 * (h.z + h.x) + (h.z * h.x) / 3) * e),
(s.z *= Math.sqrt(1 - 0.5 * (h.x + h.y) + (h.x * h.y) / 3) * e),
l.push(s.x, s.y, s.z),
i.set(s.x, s.y, s.z).normalize(),
d.push(i.x, i.y, i.z);
function c(e, r, u, s, h, i, l, d, c, x, z) {
var m,
b,
v = i / c,
w = l / x,
B = i / 2,
A = l / 2,
G = d / 2,
V = c + 1,
M = x + 1,
g = 0,
E = 0,
F = new t.Vector3();
for (b = 0; b < M; b++) {
var j = b * w - A;
for (m = 0; m < V; m++) {
var H = m * v - B;
(F[e] = H * s),
(F[r] = j * h),
(F[u] = G),
p.push(F.x, F.y, F.z),
(F[e] = 0),
(F[r] = 0),
(F[u] = d > 0 ? 1 : -1),
y.push(m / c),
y.push(1 - b / x),
(g += 1);
}
}
for (b = 0; b < x; b++)
for (m = 0; m < c; m++) {
var I = a + m + V * b,
T = a + m + V * (b + 1),
q = a + (m + 1) + V * (b + 1),
R = a + (m + 1) + V * b;
n.push(I, T, R), n.push(T, q, R), (E += 6);
}
o.addGroup(f, E, z), (f += E), (a += g);
}
this.setIndex(n),
this.addAttribute("position", new t.Float32BufferAttribute(l, 3)),
this.addAttribute("normal", new t.Float32BufferAttribute(d, 3)),
this.addAttribute("uv", new t.Float32BufferAttribute(y, 2));
}
(s.prototype = Object.create(t.BufferGeometry.prototype)),
(s.prototype.constructor = s);
var h = s;
THREE.NormalizedCubeBufferGeometry = r;
THREE.IcosahedronBufferGeometry = u;
return (THREE.SpherifiedCubeBufferGeometry = h), h;
});
